<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Assimp: Usage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Assimp
   &#160;<span id="projectnumber">5.0.1, master @ cd42b955</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="access_cpp"></a>
Access by C++ class interface</h1>
<p>The assimp library can be accessed by both a class or flat function interface. The C++ class interface is the preferred way of interaction: you create an instance of class <a class="el" href="class_assimp_1_1_importer.html" title="CPP-API: The Importer class forms an C++ interface to the functionality of the Open Asset Import Libr...">Assimp::Importer</a>, maybe adjust some settings of it and then call <a class="el" href="class_assimp_1_1_importer.html#afa338a135a56956bd5deb7d238498dde" title="Reads the given file and returns its contents if successful.">Assimp::Importer::ReadFile()</a>. The class will read the files and process its data, handing back the imported data as a pointer to an <a class="el" href="structai_scene.html" title="The root structure of the imported data.">aiScene</a> to you. You can now extract the data you need from the file. The importer manages all the resources for itsself. If the importer is destroyed, all the data that was created/read by it will be destroyed, too. So the easiest way to use the Importer is to create an instance locally, use its results and then simply let it go out of scope.</p>
<p>C++ example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_importer_8hpp.html">assimp/Importer.hpp</a>&gt;</span>      <span class="comment">// C++ importer interface</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="scene_8h.html">assimp/scene.h</a>&gt;</span>           <span class="comment">// Output data structure</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="postprocess_8h.html">assimp/postprocess.h</a>&gt;</span>     <span class="comment">// Post processing flags</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> DoTheImportThing( <span class="keyword">const</span> std::string&amp; pFile)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// Create an instance of the Importer class</span></div>
<div class="line">  <a class="code" href="class_assimp_1_1_importer.html">Assimp::Importer</a> importer;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// And have it read the given file with some example postprocessing</span></div>
<div class="line">  <span class="comment">// Usually - if speed is not the most important aspect for you - you&#39;ll</span></div>
<div class="line">  <span class="comment">// probably to request more postprocessing than we do in this example.</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="structai_scene.html">aiScene</a>* scene = importer.<a class="code" href="class_assimp_1_1_importer.html#afa338a135a56956bd5deb7d238498dde">ReadFile</a>( pFile,</div>
<div class="line">        <a class="code" href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410a8857a0e30688127a82c7b8939958c6dc">aiProcess_CalcTangentSpace</a>       |</div>
<div class="line">        <a class="code" href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410a9c3de834f0307f31fa2b1b6d05dd592b">aiProcess_Triangulate</a>            |</div>
<div class="line">        <a class="code" href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410a444a6c9d8b63e6dc9e1e2e1edd3cbcd4">aiProcess_JoinIdenticalVertices</a>  |</div>
<div class="line">        <a class="code" href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410ab4484f73635d633cd79973bac1431ed6">aiProcess_SortByPType</a>);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// If the import failed, report it</span></div>
<div class="line">  <span class="keywordflow">if</span>( !scene)</div>
<div class="line">  {</div>
<div class="line">    DoTheErrorLogging( importer.<a class="code" href="class_assimp_1_1_importer.html#a3cb269a423ad2f8497025e41f71cdf95">GetErrorString</a>());</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Now we can access the file&#39;s contents.</span></div>
<div class="line">  DoTheSceneProcessing( scene);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// We&#39;re done. Everything will be cleaned up by the importer destructor</span></div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="ttc" id="a_importer_8hpp_html"><div class="ttname"><a href="_importer_8hpp.html">Importer.hpp</a></div><div class="ttdoc">Defines the C++-API to the Open Asset Import Library.</div></div>
<div class="ttc" id="aclass_assimp_1_1_importer_html"><div class="ttname"><a href="class_assimp_1_1_importer.html">Assimp::Importer</a></div><div class="ttdoc">CPP-API: The Importer class forms an C++ interface to the functionality of the Open Asset Import Libr...</div><div class="ttdef"><b>Definition:</b> Importer.hpp:122</div></div>
<div class="ttc" id="aclass_assimp_1_1_importer_html_a3cb269a423ad2f8497025e41f71cdf95"><div class="ttname"><a href="class_assimp_1_1_importer.html#a3cb269a423ad2f8497025e41f71cdf95">Assimp::Importer::GetErrorString</a></div><div class="ttdeci">const char * GetErrorString() const</div><div class="ttdoc">Returns an error description of an error that occurred in ReadFile().</div><div class="ttdef"><b>Definition:</b> Importer.cpp:397</div></div>
<div class="ttc" id="aclass_assimp_1_1_importer_html_afa338a135a56956bd5deb7d238498dde"><div class="ttname"><a href="class_assimp_1_1_importer.html#afa338a135a56956bd5deb7d238498dde">Assimp::Importer::ReadFile</a></div><div class="ttdeci">const aiScene * ReadFile(const char *pFile, unsigned int pFlags)</div><div class="ttdoc">Reads the given file and returns its contents if successful.</div><div class="ttdef"><b>Definition:</b> Importer.cpp:581</div></div>
<div class="ttc" id="apostprocess_8h_html"><div class="ttname"><a href="postprocess_8h.html">postprocess.h</a></div><div class="ttdoc">Definitions for import post processing steps.</div></div>
<div class="ttc" id="apostprocess_8h_html_a64795260b95f5a4b3f3dc1be4f52e410a444a6c9d8b63e6dc9e1e2e1edd3cbcd4"><div class="ttname"><a href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410a444a6c9d8b63e6dc9e1e2e1edd3cbcd4">aiProcess_JoinIdenticalVertices</a></div><div class="ttdeci">@ aiProcess_JoinIdenticalVertices</div><div class="ttdef"><b>Definition:</b> postprocess.h:98</div></div>
<div class="ttc" id="apostprocess_8h_html_a64795260b95f5a4b3f3dc1be4f52e410a8857a0e30688127a82c7b8939958c6dc"><div class="ttname"><a href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410a8857a0e30688127a82c7b8939958c6dc">aiProcess_CalcTangentSpace</a></div><div class="ttdeci">@ aiProcess_CalcTangentSpace</div><div class="ttdef"><b>Definition:</b> postprocess.h:85</div></div>
<div class="ttc" id="apostprocess_8h_html_a64795260b95f5a4b3f3dc1be4f52e410a9c3de834f0307f31fa2b1b6d05dd592b"><div class="ttname"><a href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410a9c3de834f0307f31fa2b1b6d05dd592b">aiProcess_Triangulate</a></div><div class="ttdeci">@ aiProcess_Triangulate</div><div class="ttdef"><b>Definition:</b> postprocess.h:130</div></div>
<div class="ttc" id="apostprocess_8h_html_a64795260b95f5a4b3f3dc1be4f52e410ab4484f73635d633cd79973bac1431ed6"><div class="ttname"><a href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410ab4484f73635d633cd79973bac1431ed6">aiProcess_SortByPType</a></div><div class="ttdeci">@ aiProcess_SortByPType</div><div class="ttdef"><b>Definition:</b> postprocess.h:348</div></div>
<div class="ttc" id="ascene_8h_html"><div class="ttname"><a href="scene_8h.html">scene.h</a></div><div class="ttdoc">Defines the data structures in which the imported scene is returned.</div></div>
<div class="ttc" id="astructai_scene_html"><div class="ttname"><a href="structai_scene.html">aiScene</a></div><div class="ttdoc">The root structure of the imported data.</div><div class="ttdef"><b>Definition:</b> scene.h:247</div></div>
</div><!-- fragment --><p>What exactly is read from the files and how you interpret it is described at the <a class="el" href="data.html">Data Structures</a> page.  The post processing steps that the assimp library can apply to the imported data are listed at <a class="el" href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410" title="Defines the flags for all possible post processing steps.">aiPostProcessSteps</a>. See the pp Post processing page for more details.</p>
<p>Note that the <a class="el" href="structai_scene.html" title="The root structure of the imported data.">aiScene</a> data structure returned is declared 'const'. Yes, you can get rid of these 5 letters with a simple cast. Yes, you may do that. No, it's not recommended (and it's suicide in DLL builds if you try to use new or delete on any of the arrays in the scene).</p>
<h1><a class="anchor" id="access_c"></a>
Access by plain-c function interface</h1>
<p>The plain function interface is just as simple, but requires you to manually call the clean-up after you're done with the imported data. To start the import process, call <a class="el" href="_assimp_8cpp.html#a991846be600bc8a54f6878e5bca96907" title="Reads the given file and returns its content.">aiImportFile()</a> with the filename in question and the desired postprocessing flags like above. If the call is successful, an <a class="el" href="structai_scene.html" title="The root structure of the imported data.">aiScene</a> pointer with the imported data is handed back to you. When you're done with the extraction of the data you're interested in, call <a class="el" href="_assimp_8cpp.html#abc572528f8d274660828de08e82ae491">aiReleaseImport()</a> on the imported scene to clean up all resources associated with the import.</p>
<p>C example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="cimport_8h.html">assimp/cimport.h</a>&gt;</span>        <span class="comment">// Plain-C interface</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="scene_8h.html">assimp/scene.h</a>&gt;</span>          <span class="comment">// Output data structure</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="postprocess_8h.html">assimp/postprocess.h</a>&gt;</span>    <span class="comment">// Post processing flags</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> DoTheImportThing( <span class="keyword">const</span> <span class="keywordtype">char</span>* pFile)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// Start the import on the given file with some example postprocessing</span></div>
<div class="line">  <span class="comment">// Usually - if speed is not the most important aspect for you - you&#39;ll t</span></div>
<div class="line">  <span class="comment">// probably to request more postprocessing than we do in this example.</span></div>
<div class="line">  <span class="keyword">const</span> <a class="code" href="structai_scene.html">aiScene</a>* scene = <a class="code" href="_assimp_8cpp.html#a991846be600bc8a54f6878e5bca96907">aiImportFile</a>( pFile,</div>
<div class="line">    <a class="code" href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410a8857a0e30688127a82c7b8939958c6dc">aiProcess_CalcTangentSpace</a>       |</div>
<div class="line">        <a class="code" href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410a9c3de834f0307f31fa2b1b6d05dd592b">aiProcess_Triangulate</a>            |</div>
<div class="line">        <a class="code" href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410a444a6c9d8b63e6dc9e1e2e1edd3cbcd4">aiProcess_JoinIdenticalVertices</a>  |</div>
<div class="line">        <a class="code" href="postprocess_8h.html#a64795260b95f5a4b3f3dc1be4f52e410ab4484f73635d633cd79973bac1431ed6">aiProcess_SortByPType</a>);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// If the import failed, report it</span></div>
<div class="line">  <span class="keywordflow">if</span>( !scene)</div>
<div class="line">  {</div>
<div class="line">    DoTheErrorLogging( <a class="code" href="_assimp_8cpp.html#a2f826c7b55e774c32de6132e057a239f">aiGetErrorString</a>());</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Now we can access the file&#39;s contents</span></div>
<div class="line">  DoTheSceneProcessing( scene);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// We&#39;re done. Release all resources associated with this import</span></div>
<div class="line">  <a class="code" href="_assimp_8cpp.html#abc572528f8d274660828de08e82ae491">aiReleaseImport</a>( scene);</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="ttc" id="a_assimp_8cpp_html_a2f826c7b55e774c32de6132e057a239f"><div class="ttname"><a href="_assimp_8cpp.html#a2f826c7b55e774c32de6132e057a239f">aiGetErrorString</a></div><div class="ttdeci">const char * aiGetErrorString()</div><div class="ttdoc">Returns the error text of the last failed import process.</div><div class="ttdef"><b>Definition:</b> Assimp.cpp:438</div></div>
<div class="ttc" id="a_assimp_8cpp_html_a991846be600bc8a54f6878e5bca96907"><div class="ttname"><a href="_assimp_8cpp.html#a991846be600bc8a54f6878e5bca96907">aiImportFile</a></div><div class="ttdeci">const aiScene * aiImportFile(const char *pFile, unsigned int pFlags)</div><div class="ttdoc">Reads the given file and returns its content.</div><div class="ttdef"><b>Definition:</b> Assimp.cpp:156</div></div>
<div class="ttc" id="a_assimp_8cpp_html_abc572528f8d274660828de08e82ae491"><div class="ttname"><a href="_assimp_8cpp.html#abc572528f8d274660828de08e82ae491">aiReleaseImport</a></div><div class="ttdeci">void aiReleaseImport(const aiScene *pScene)</div><div class="ttdef"><b>Definition:</b> Assimp.cpp:263</div></div>
<div class="ttc" id="acimport_8h_html"><div class="ttname"><a href="cimport_8h.html">cimport.h</a></div><div class="ttdoc">Defines the C-API to the Open Asset Import Library.</div></div>
</div><!-- fragment --><h1><a class="anchor" id="custom_io"></a>
Using custom IO logic with the C++ class interface</h1>
<p>The assimp library needs to access files internally. This of course applies to the file you want to read, but also to additional files in the same folder for certain file formats. By default, standard C/C++ IO logic is used to access these files. If your application works in a special environment where custom logic is needed to access the specified files, you have to supply custom implementations of IOStream and IOSystem. A shortened example might look like this:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_i_o_stream_8hpp.html">assimp/IOStream.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_i_o_system_8hpp.html">assimp/IOSystem.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// My own implementation of IOStream</span></div>
<div class="line"><span class="keyword">class </span>MyIOStream : <span class="keyword">public</span> <a class="code" href="class_assimp_1_1_i_o_stream.html">Assimp::IOStream</a></div>
<div class="line">{</div>
<div class="line">  <span class="keyword">friend</span> <span class="keyword">class </span>MyIOSystem;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">  <span class="comment">// Constructor protected for private usage by MyIOSystem</span></div>
<div class="line">  MyIOStream(<span class="keywordtype">void</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  ~MyIOStream(<span class="keywordtype">void</span>);</div>
<div class="line">  <span class="keywordtype">size_t</span> <a class="code" href="class_assimp_1_1_i_o_stream.html#ae376f641020989d61863b9c6f55c7abf">Read</a>( <span class="keywordtype">void</span>* pvBuffer, <span class="keywordtype">size_t</span> pSize, <span class="keywordtype">size_t</span> pCount) { ... }</div>
<div class="line">  <span class="keywordtype">size_t</span> <a class="code" href="class_assimp_1_1_i_o_stream.html#ad0ca4aae1b8c4d00db391ac3a4171f7b">Write</a>( <span class="keyword">const</span> <span class="keywordtype">void</span>* pvBuffer, <span class="keywordtype">size_t</span> pSize, <span class="keywordtype">size_t</span> pCount) { ... }</div>
<div class="line">  <a class="code" href="types_8h.html#a1f78dfb65090aa930cabb984c8abe711">aiReturn</a> <a class="code" href="class_assimp_1_1_i_o_stream.html#a5ed0dddf418ab08cf3fc21f3f3032220">Seek</a>( <span class="keywordtype">size_t</span> pOffset, <a class="code" href="types_8h.html#ac50fbaa57d78776ca99e42104d9b2786">aiOrigin</a> pOrigin) { ... }</div>
<div class="line">  <span class="keywordtype">size_t</span> <a class="code" href="class_assimp_1_1_i_o_stream.html#a316ac6cd16b5a493d1313f792c806194">Tell</a>()<span class="keyword"> const </span>{ ... }</div>
<div class="line">  <span class="keywordtype">size_t</span> <a class="code" href="class_assimp_1_1_i_o_stream.html#aaa01183d197fb714f28d6c611b6fa058">FileSize</a>()<span class="keyword"> const </span>{ ... }</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="class_assimp_1_1_i_o_stream.html#a7c19952446ece90924b246f087417899">Flush</a> () { ... }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fisher Price - My First Filesystem</span></div>
<div class="line"><span class="keyword">class </span>MyIOSystem : <span class="keyword">public</span> <a class="code" href="class_assimp_1_1_i_o_system.html">Assimp::IOSystem</a></div>
<div class="line">{</div>
<div class="line">  MyIOSystem() { ... }</div>
<div class="line">  ~MyIOSystem() { ... }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Check whether a specific file exists</span></div>
<div class="line">  <span class="keywordtype">bool</span> <a class="code" href="class_assimp_1_1_i_o_system.html#a78821be348bf775ebfc9fdce07d622ac">Exists</a>( <span class="keyword">const</span> std::string&amp; pFile)<span class="keyword"> const </span>{</div>
<div class="line">    ..</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Get the path delimiter character we&#39;d like to see</span></div>
<div class="line">  <span class="keywordtype">char</span> GetOsSeparator()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// ... and finally a method to open a custom stream</span></div>
<div class="line">  IOStream* <a class="code" href="class_assimp_1_1_i_o_system.html#ac512ece3b0701de5682553007a4c0816">Open</a>( <span class="keyword">const</span> std::string&amp; pFile, <span class="keyword">const</span> std::string&amp; pMode) {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> MyIOStream( ... );</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="class_assimp_1_1_i_o_system.html#a8c334d60f04bceeb6bd0157d21723f3e">Close</a>( IOStream* pFile) { <span class="keyword">delete</span> pFile; }</div>
<div class="line">};</div>
<div class="ttc" id="a_i_o_stream_8hpp_html"><div class="ttname"><a href="_i_o_stream_8hpp.html">IOStream.hpp</a></div><div class="ttdoc">File I/O wrappers for C++.</div></div>
<div class="ttc" id="a_i_o_system_8hpp_html"><div class="ttname"><a href="_i_o_system_8hpp.html">IOSystem.hpp</a></div><div class="ttdoc">File system wrapper for C++.</div></div>
<div class="ttc" id="aclass_assimp_1_1_i_o_stream_html"><div class="ttname"><a href="class_assimp_1_1_i_o_stream.html">Assimp::IOStream</a></div><div class="ttdoc">CPP-API: Class to handle file I/O for C++.</div><div class="ttdef"><b>Definition:</b> IOStream.hpp:75</div></div>
<div class="ttc" id="aclass_assimp_1_1_i_o_stream_html_a316ac6cd16b5a493d1313f792c806194"><div class="ttname"><a href="class_assimp_1_1_i_o_stream.html#a316ac6cd16b5a493d1313f792c806194">Assimp::IOStream::Tell</a></div><div class="ttdeci">virtual size_t Tell() const =0</div><div class="ttdoc">Get the current position of the read/write cursor.</div></div>
<div class="ttc" id="aclass_assimp_1_1_i_o_stream_html_a5ed0dddf418ab08cf3fc21f3f3032220"><div class="ttname"><a href="class_assimp_1_1_i_o_stream.html#a5ed0dddf418ab08cf3fc21f3f3032220">Assimp::IOStream::Seek</a></div><div class="ttdeci">virtual aiReturn Seek(size_t pOffset, aiOrigin pOrigin)=0</div><div class="ttdoc">Set the read/write cursor of the file.</div></div>
<div class="ttc" id="aclass_assimp_1_1_i_o_stream_html_a7c19952446ece90924b246f087417899"><div class="ttname"><a href="class_assimp_1_1_i_o_stream.html#a7c19952446ece90924b246f087417899">Assimp::IOStream::Flush</a></div><div class="ttdeci">virtual void Flush()=0</div><div class="ttdoc">Flush the contents of the file buffer (for writers) See fflush() for more details.</div></div>
<div class="ttc" id="aclass_assimp_1_1_i_o_stream_html_aaa01183d197fb714f28d6c611b6fa058"><div class="ttname"><a href="class_assimp_1_1_i_o_stream.html#aaa01183d197fb714f28d6c611b6fa058">Assimp::IOStream::FileSize</a></div><div class="ttdeci">virtual size_t FileSize() const =0</div><div class="ttdoc">Returns filesize Returns the filesize.</div></div>
<div class="ttc" id="aclass_assimp_1_1_i_o_stream_html_ad0ca4aae1b8c4d00db391ac3a4171f7b"><div class="ttname"><a href="class_assimp_1_1_i_o_stream.html#ad0ca4aae1b8c4d00db391ac3a4171f7b">Assimp::IOStream::Write</a></div><div class="ttdeci">virtual size_t Write(const void *pvBuffer, size_t pSize, size_t pCount)=0</div><div class="ttdoc">Write to the file.</div></div>
<div class="ttc" id="aclass_assimp_1_1_i_o_stream_html_ae376f641020989d61863b9c6f55c7abf"><div class="ttname"><a href="class_assimp_1_1_i_o_stream.html#ae376f641020989d61863b9c6f55c7abf">Assimp::IOStream::Read</a></div><div class="ttdeci">virtual size_t Read(void *pvBuffer, size_t pSize, size_t pCount)=0</div><div class="ttdoc">Read from the file.</div></div>
<div class="ttc" id="aclass_assimp_1_1_i_o_system_html"><div class="ttname"><a href="class_assimp_1_1_i_o_system.html">Assimp::IOSystem</a></div><div class="ttdoc">CPP-API: Interface to the file system.</div><div class="ttdef"><b>Definition:</b> IOSystem.hpp:93</div></div>
<div class="ttc" id="aclass_assimp_1_1_i_o_system_html_a78821be348bf775ebfc9fdce07d622ac"><div class="ttname"><a href="class_assimp_1_1_i_o_system.html#a78821be348bf775ebfc9fdce07d622ac">Assimp::IOSystem::Exists</a></div><div class="ttdeci">AI_FORCE_INLINE bool Exists(const std::string &amp;pFile) const</div><div class="ttdoc">For backward compatibility.</div><div class="ttdef"><b>Definition:</b> IOSystem.hpp:265</div></div>
<div class="ttc" id="aclass_assimp_1_1_i_o_system_html_a8c334d60f04bceeb6bd0157d21723f3e"><div class="ttname"><a href="class_assimp_1_1_i_o_system.html#a8c334d60f04bceeb6bd0157d21723f3e">Assimp::IOSystem::Close</a></div><div class="ttdeci">virtual void Close(IOStream *pFile)=0</div><div class="ttdoc">Closes the given file and releases all resources associated with it.</div></div>
<div class="ttc" id="aclass_assimp_1_1_i_o_system_html_ac512ece3b0701de5682553007a4c0816"><div class="ttname"><a href="class_assimp_1_1_i_o_system.html#ac512ece3b0701de5682553007a4c0816">Assimp::IOSystem::Open</a></div><div class="ttdeci">virtual IOStream * Open(const char *pFile, const char *pMode=&quot;rb&quot;)=0</div><div class="ttdoc">Open a new file with a given path.</div></div>
<div class="ttc" id="atypes_8h_html_a1f78dfb65090aa930cabb984c8abe711"><div class="ttname"><a href="types_8h.html#a1f78dfb65090aa930cabb984c8abe711">aiReturn</a></div><div class="ttdeci">aiReturn</div><div class="ttdoc">Standard return type for some library functions.</div><div class="ttdef"><b>Definition:</b> types.h:400</div></div>
<div class="ttc" id="atypes_8h_html_ac50fbaa57d78776ca99e42104d9b2786"><div class="ttname"><a href="types_8h.html#ac50fbaa57d78776ca99e42104d9b2786">aiOrigin</a></div><div class="ttdeci">aiOrigin</div><div class="ttdoc">Seek origins (for the virtual file system API).</div><div class="ttdef"><b>Definition:</b> types.h:429</div></div>
</div><!-- fragment --><p>Now that your IO system is implemented, supply an instance of it to the Importer object by calling <a class="el" href="class_assimp_1_1_importer.html#ac1c92d84d21c35dea6e5ad96a976c2ca" title="Supplies a custom IO handler to the importer to use to open and access files.">Assimp::Importer::SetIOHandler()</a>.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> DoTheImportThing( <span class="keyword">const</span> std::string&amp; pFile)</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="class_assimp_1_1_importer.html">Assimp::Importer</a> importer;</div>
<div class="line">  <span class="comment">// put my custom IO handling in place</span></div>
<div class="line">  importer.<a class="code" href="class_assimp_1_1_importer.html#ac1c92d84d21c35dea6e5ad96a976c2ca">SetIOHandler</a>( <span class="keyword">new</span> MyIOSystem());</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// the import process will now use this implementation to access any file</span></div>
<div class="line">  importer.<a class="code" href="class_assimp_1_1_importer.html#afa338a135a56956bd5deb7d238498dde">ReadFile</a>( pFile, SomeFlag | SomeOtherFlag);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_assimp_1_1_importer_html_ac1c92d84d21c35dea6e5ad96a976c2ca"><div class="ttname"><a href="class_assimp_1_1_importer.html#ac1c92d84d21c35dea6e5ad96a976c2ca">Assimp::Importer::SetIOHandler</a></div><div class="ttdeci">void SetIOHandler(IOSystem *pIOHandler)</div><div class="ttdoc">Supplies a custom IO handler to the importer to use to open and access files.</div><div class="ttdef"><b>Definition:</b> Importer.cpp:297</div></div>
</div><!-- fragment --><h1><a class="anchor" id="custom_io_c"></a>
Using custom IO logic with the plain-c function interface</h1>
<p>The C interface also provides a way to override the file system. Control is not as fine-grained as for C++ although surely enough for almost any purpose. The process is simple:</p>
<ul>
<li>
Include <a class="el" href="cfileio_8h.html" title="Defines generic C routines to access memory-mapped files.">cfileio.h</a> </li>
<li>
Fill an <a class="el" href="structai_file_i_o.html" title="C-API: File system callbacks.">aiFileIO</a> structure with custom file system callbacks (they're self-explanatory as they work similar to the CRT's fXXX functions) </li>
<li>
.. and pass it as parameter to <a class="el" href="cimport_8h.html#a60c8f08f9daa728b5e2d20623e81cd13" title="Reads the given file using user-defined I/O functions and returns its content.">aiImportFileEx</a> </li>
</ul>
<h1><a class="anchor" id="logging"></a>
Logging</h1>
<p>The assimp library provides an easy mechanism to log messages. For instance if you want to check the state of your import and you just want to see, after which preprocessing step the import-process was aborted you can take a look into the log. Per default the assimp-library provides a default log implementation, where you can log your user specific message by calling it as a singleton with the requested logging-type. To see how this works take a look to this:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_assimp.html">Assimp</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a logger instance</span></div>
<div class="line"><a class="code" href="class_assimp_1_1_default_logger.html#a8775c5af62ede928374c657d571a5320">DefaultLogger::create</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="class_assimp_1_1_logger.html#a8b6248a0fd062431e8572556350d29e6afc9d1d86aa82fdb80e00c99b3c1ce486">Logger::VERBOSE</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Now I am ready for logging my stuff</span></div>
<div class="line"><a class="code" href="class_assimp_1_1_default_logger.html#a093cac26b06553ac774f84769cb0d691">DefaultLogger::get</a>()-&gt;<a class="code" href="class_assimp_1_1_logger.html#a12b8a125083c47ac0bb6056f00761e52">info</a>(<span class="stringliteral">&quot;this is my info-call&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Kill it after the work is done</span></div>
<div class="line"><a class="code" href="class_assimp_1_1_default_logger.html#af2adfcf8df6868b2a7a753ac166b4a0c">DefaultLogger::kill</a>();</div>
<div class="ttc" id="aclass_assimp_1_1_default_logger_html_a093cac26b06553ac774f84769cb0d691"><div class="ttname"><a href="class_assimp_1_1_default_logger.html#a093cac26b06553ac774f84769cb0d691">Assimp::DefaultLogger::get</a></div><div class="ttdeci">static Logger * get()</div><div class="ttdoc">Getter for singleton instance.</div><div class="ttdef"><b>Definition:</b> DefaultLogger.cpp:241</div></div>
<div class="ttc" id="aclass_assimp_1_1_default_logger_html_a8775c5af62ede928374c657d571a5320"><div class="ttname"><a href="class_assimp_1_1_default_logger.html#a8775c5af62ede928374c657d571a5320">Assimp::DefaultLogger::create</a></div><div class="ttdeci">static Logger * create(const char *name=ASSIMP_DEFAULT_LOG_NAME, LogSeverity severity=NORMAL, unsigned int defStreams=aiDefaultLogStream_DEBUGGER|aiDefaultLogStream_FILE, IOSystem *io=nullptr)</div><div class="ttdoc">Creates a logging instance.</div><div class="ttdef"><b>Definition:</b> DefaultLogger.cpp:126</div></div>
<div class="ttc" id="aclass_assimp_1_1_default_logger_html_af2adfcf8df6868b2a7a753ac166b4a0c"><div class="ttname"><a href="class_assimp_1_1_default_logger.html#af2adfcf8df6868b2a7a753ac166b4a0c">Assimp::DefaultLogger::kill</a></div><div class="ttdeci">static void kill()</div><div class="ttdoc">Kills the current singleton logger and replaces it with a #NullLogger instance.</div><div class="ttdef"><b>Definition:</b> DefaultLogger.cpp:247</div></div>
<div class="ttc" id="aclass_assimp_1_1_logger_html_a12b8a125083c47ac0bb6056f00761e52"><div class="ttname"><a href="class_assimp_1_1_logger.html#a12b8a125083c47ac0bb6056f00761e52">Assimp::Logger::info</a></div><div class="ttdeci">void info(const char *message)</div><div class="ttdoc">Writes a info message.</div><div class="ttdef"><b>Definition:</b> DefaultLogger.cpp:190</div></div>
<div class="ttc" id="aclass_assimp_1_1_logger_html_a8b6248a0fd062431e8572556350d29e6afc9d1d86aa82fdb80e00c99b3c1ce486"><div class="ttname"><a href="class_assimp_1_1_logger.html#a8b6248a0fd062431e8572556350d29e6afc9d1d86aa82fdb80e00c99b3c1ce486">Assimp::Logger::VERBOSE</a></div><div class="ttdeci">@ VERBOSE</div><div class="ttdoc">All messages will be logged.</div><div class="ttdef"><b>Definition:</b> Logger.hpp:78</div></div>
<div class="ttc" id="anamespace_assimp_html"><div class="ttname"><a href="namespace_assimp.html">Assimp</a></div><div class="ttdoc">Helper structures for the Collada loader.</div><div class="ttdef"><b>Definition:</b> 3DSExporter.cpp:60</div></div>
</div><!-- fragment --><p>At first you have to create the default-logger-instance (create). Now you are ready to rock and can log a little bit around. After that you should kill it to release the singleton instance.</p>
<p>If you want to integrate the assimp-log into your own GUI it my be helpful to have a mechanism writing the logs into your own log windows. The logger interface provides this by implementing an interface called LogStream. You can attach and detach this log stream to the default-logger instance or any implementation derived from Logger. Just derivate your own logger from the abstract base class LogStream and overwrite the write-method:</p>
<div class="fragment"><div class="line"><span class="comment">// Example stream</span></div>
<div class="line"><span class="keyword">class </span>myStream : <span class="keyword">public</span> LogStream</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">        <span class="comment">// Write womethink using your own functionality</span></div>
<div class="line">        <span class="keywordtype">void</span> write(<span class="keyword">const</span> <span class="keywordtype">char</span>* message)</div>
<div class="line">        {</div>
<div class="line">                ::printf(<span class="stringliteral">&quot;%s\n&quot;</span>, message);</div>
<div class="line">        }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Select the kinds of messages you want to receive on this log stream</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> severity = Logger::Debugging|Logger::Info|Logger::Err|Logger::Warn;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Attaching it to the default logger</span></div>
<div class="line"><a class="code" href="class_assimp_1_1_default_logger.html#a093cac26b06553ac774f84769cb0d691">Assimp::DefaultLogger::get</a>()-&gt;<a class="code" href="class_assimp_1_1_logger.html#aaf32a42b02a7e227076013d01e349871">attachStream</a>( <span class="keyword">new</span> myStream, severity );</div>
<div class="ttc" id="aclass_assimp_1_1_logger_html_aaf32a42b02a7e227076013d01e349871"><div class="ttname"><a href="class_assimp_1_1_logger.html#aaf32a42b02a7e227076013d01e349871">Assimp::Logger::attachStream</a></div><div class="ttdeci">virtual bool attachStream(LogStream *pStream, unsigned int severity=Debugging|Err|Warn|Info)=0</div><div class="ttdoc">Attach a new log-stream.</div></div>
</div><!-- fragment --><p>The severity level controls the kind of message which will be written into the attached stream. If you just want to log errors and warnings set the warn and error severity flag for those severities. It is also possible to remove a self defined logstream from an error severity by detaching it with the severity flag set:</p>
<div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> severity = 0;</div>
<div class="line">severity |= Logger::Debugging;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Detach debug messages from you self defined stream</span></div>
<div class="line"><a class="code" href="class_assimp_1_1_default_logger.html#a093cac26b06553ac774f84769cb0d691">Assimp::DefaultLogger::get</a>()-&gt;<a class="code" href="class_assimp_1_1_logger.html#aaf32a42b02a7e227076013d01e349871">attachStream</a>( <span class="keyword">new</span> myStream, severity );</div>
</div><!-- fragment --><p>If you want to implement your own logger just derive from the abstract base class #Logger and overwrite the methods debug, info, warn and error.</p>
<p>If you want to see the debug-messages in a debug-configured build, the Logger-interface provides a logging-severity. You can set it calling the following method:</p>
<div class="fragment"><div class="line"><a class="code" href="class_assimp_1_1_default_logger.html#a093cac26b06553ac774f84769cb0d691">Assimp::DefaultLogger::get</a>()-&gt;<a class="code" href="class_assimp_1_1_logger.html#a8fb4fa4c2c329a36ac39bc9c743925f1">setLogSeverity</a>( LogSeverity log_severity );</div>
<div class="ttc" id="aclass_assimp_1_1_logger_html_a8fb4fa4c2c329a36ac39bc9c743925f1"><div class="ttname"><a href="class_assimp_1_1_logger.html#a8fb4fa4c2c329a36ac39bc9c743925f1">Assimp::Logger::setLogSeverity</a></div><div class="ttdeci">void setLogSeverity(LogSeverity log_severity)</div><div class="ttdoc">Set a new log severity.</div><div class="ttdef"><b>Definition:</b> Logger.hpp:258</div></div>
</div><!-- fragment --><p>The normal logging severity supports just the basic stuff like, info, warnings and errors. In the verbose level very fine-grained debug messages will be logged, too. Note that this kind kind of logging might decrease import performance. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 22 2021 22:29:53 for Assimp by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
